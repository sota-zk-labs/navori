#[test_only]
module verifier_addr::mpfr_test {
    use std::signer::address_of;

    use verifier_addr::fact_registry::is_valid;
    use verifier_addr::memory_page_fact_registry::{register_continuous_memorypage,
        register_continuous_page_batch
    };

    #[test(signer = @verifier_addr)]
    fun test_register_continuous_memorypage(signer: &signer) {
        register_continuous_memorypage(
            signer,
            2971260,
            vector[
                1723587082856532763241173775465496577348305577532331450336061658809521876102,
                2479248348687909740970436565718726357572221543762678024250834744245756360726,
                587272,
                2177570517647428816133395681679456086343281988787809822104528418476218261377,
                2590421891839256512113614983194993186457498815986333310670788206383913888162,
                0,
                0
            ],
            3035248388910680138215389260643346358343414931640145853107361271346254998038,
            220574768071472005565941019352306850224879407895315608807402130378653737764,
            3618502788666131213697322783095070105623107215331596699973092056135872020481
        );
    }

    #[test(s = @verifier_addr)]
    // Transaction hash on ETH mainnet for this test: 0x6f59bed6f3df4b87c03c49f11e627e842ae5708a3670f428ddfb83c5b98d3754.
    fun test_register_continuous_page_batch(s: &signer) {
        register_continuous_page_batch(
            s,
            vector[1771799, 1771808],
            vector[vector[1007, 1006, 1005, 1004, 1003, 1002, 1001],
                vector[1008, 1007, 1006, 1005, 1004, 1003, 1002, 1001]],
            3199940278565943790978406278706496237292797978280982699986488410844249594708,
            195072032121178106591923000375621188629735561133807175660265096969353999946,
            3618502788666131213697322783095070105623107215331596699973092056135872020481
        );
        is_valid(
            address_of(s),
            49238381412124717490517111631696093427076824100526472039743966257691104387218
        );
        is_valid(
            address_of(s),
            54205816271920378481316162362155116341907231556132238625024261418992095639341
        );
    }
}